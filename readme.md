Repository Init Content
=======================

Your project description here.


Repository Init Content
=======================

# Decesion server for interest rates.

cd /Users/anuragsaran/Documents/MW/summit2017/acmebank-interestrates-bxms-xpaas/decision-server

```
oc new-project acmebank-interestrates-bxms-xpaas
oc create -f decisionserver-63-is.yaml
oc create -f decisionserver-basic-s2i.yaml
```


```
export context_dir=acmebank-interestrates
export application_name=interestrates
export source_repo=https://github.com/anurag-saran/acmebank-interestrates-bxms-xpaas.git
export nexus_url=http://nexus-nexus.apps.anuragsdemo.com
export kieserver_password=kieserver1!
export is_namespace=acmebank-interestrates
export kie_container_deployment="interestrates=com.acme.dept.interestrates:acmebank-interestrates:1.0"
```

```
oc new-app --template=decisionserver63-basic-s2i -p KIE_SERVER_PASSWORD=$kieserver_password,APPLICATION_NAME=$application_name,SOURCE_REPOSITORY_URL=$source_repo,IMAGE_STREAM_NAMESPACE=$is_namespace,KIE_CONTAINER_DEPLOYMENT=$kie_container_deployment,KIE_CONTAINER_REDIRECT_ENABLED=false,MAVEN_MIRROR_URL=$nexus_url/content/groups/public/,CONTEXT_DIR=$context_dir
```

```
oc get routes
export interestratequote_app=<URL of the policyquote app route>

export interestratequote_app=interestrates-bxms-xpaas-policyquote.apps.anuragsdemo.com
export kieserver_password=kieserver1!
```

## To check the health of the server:
```
curl -X GET -H "Accept: application/json" --user kieserver:$kieserver_password "$interestratequote_app/kie-server/services/rest/server"
```

## To check which KIE containers are deployed on the server.
```
curl -X GET -H "Accept: application/json" --user kieserver:$kieserver_password "$interestratequote_app/kie-server/services/rest/server/containers"

```

## Make a POST Call
```
curl -s -X POST -H "Content-Type: application/json" -H "Accept: application/json" --user kieserver:$kieserver_password -d @policyquote-payload.json "$interestratequote_app/kie-server/services/rest/server/containers/instances/policyquote"
```

## To filter out the price field, use grep:
```
curl -s -X POST -H "Content-Type: application/json" -H "Accept: application/json" --user kieserver:$kieserver_password -d @policyquote-payload.json "$interestratequote_app/kie-server/services/rest/server/containers/instances/policyquote" | grep '"price"'



```


com.redhat.acme.rates.achme_rht_bank_rates;

/**
 * This class was automatically generated by the data modeler tool.
 */

public class interestRates implements java.io.Serializable
{

   static final long serialVersionUID = 1L;

   @org.kie.api.definition.type.Label(value = "amount")
   private java.lang.Integer amount;
   @org.kie.api.definition.type.Label(value = "months")
   private java.lang.Integer months;
   @org.kie.api.definition.type.Label(value = "rate")
   private java.lang.Integer rate;
